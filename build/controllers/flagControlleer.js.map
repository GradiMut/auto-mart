{"version":3,"sources":["../../src/controllers/flagControlleer.js"],"names":["flagDb","require","Report","req","res","status","send","message","orders","body","userId","carId","reason","description","currentDate","Date","date","getFullYear","getMonth","getDate","order","id","length","createdOn","push","reportController","module","exports"],"mappings":";;;;;;;;AAAA;AACA;AACA,IAAMA,MAAM,GAAGC,OAAO,CAAC,eAAD,CAAtB;;IAEMC,M;;;;;;;;;AACJ;iCACaC,G,EAAKC,G,EAAK;AACrB,aAAOA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,QAAAA,MAAM,EAAE,GADkB;AAE1BE,QAAAA,OAAO,EAAE,SAFiB;AAG1BC,QAAAA,MAAM,EAAER;AAHkB,OAArB,CAAP;AAKD,K,CAED;;;;6BACSG,G,EAAKC,G,EAAK;AACjB,UAAI,CAACD,GAAG,CAACM,IAAJ,CAASC,MAAd,EAAsB;AACpB,eAAON,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACD,UAAI,CAACJ,GAAG,CAACM,IAAJ,CAASE,KAAd,EAAqB;AACnB,eAAOP,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACD,UAAI,CAACJ,GAAG,CAACM,IAAJ,CAASG,MAAd,EAAsB;AACpB,eAAOR,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACD,UAAI,CAACJ,GAAG,CAACM,IAAJ,CAASI,WAAd,EAA2B;AACzB,eAAOT,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AAED,UAAMO,WAAW,GAAG,IAAIC,IAAJ,EAApB;AACA,UAAMC,IAAI,aAAMF,WAAW,CAACG,WAAZ,EAAN,cAAmCH,WAAW,CAACI,QAAZ,KAAyB,CAA5D,cAAiEJ,WAAW,CAACK,OAAZ,EAAjE,CAAV;AAEA,UAAMC,KAAK,GAAG;AACZC,QAAAA,EAAE,EAAErB,MAAM,CAACsB,MAAP,GAAgB,CADR;AAEZZ,QAAAA,MAAM,EAAEP,GAAG,CAACM,IAAJ,CAASC,MAFL;AAGZC,QAAAA,KAAK,EAAER,GAAG,CAACM,IAAJ,CAASE,KAHJ;AAIZC,QAAAA,MAAM,EAAET,GAAG,CAACM,IAAJ,CAASG,MAJL;AAKZC,QAAAA,WAAW,EAAEV,GAAG,CAACM,IAAJ,CAASI,WALV;AAMZU,QAAAA,SAAS,EAAEP;AANC,OAAd;AASAhB,MAAAA,MAAM,CAACwB,IAAP,CAAYJ,KAAZ;AACA,aAAOhB,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,QAAAA,MAAM,EAAE,GADkB;AAE1BE,QAAAA,OAAO,EAAE,0BAFiB;AAG1Ba,QAAAA,KAAK,EAALA;AAH0B,OAArB,CAAP;AAKD;;;;;;AAGH,IAAMK,gBAAgB,GAAG,IAAIvB,MAAJ,EAAzB;AACAwB,MAAM,CAACC,OAAP,GAAiBF,gBAAjB","sourcesContent":["/* eslint-disable class-methods-use-this */\n// jshint esversion: 6\nconst flagDb = require('../data/flags');\n\nclass Report {\n  // gett all offers\n  getAllReport(req, res) {\n    return res.status(200).send({\n      status: 200,\n      message: 'Success',\n      orders: flagDb,\n    });\n  }\n\n  // make an order\n  reportAd(req, res) {\n    if (!req.body.userId) {\n      return res.status(400).send({\n        status: 400,\n        message: 'Failled to post, You do not have an account!',\n      });\n    }\n    if (!req.body.carId) {\n      return res.status(400).send({\n        status: 400,\n        message: 'Failled to post, Car does not existe',\n      });\n    }\n    if (!req.body.reason) {\n      return res.status(400).send({\n        status: 400,\n        message: 'Failled to post, Reason is required',\n      });\n    }\n    if (!req.body.description) {\n      return res.status(400).send({\n        status: 400,\n        message: 'Failled to post, description is required',\n      });\n    }\n\n    const currentDate = new Date();\n    const date = `${currentDate.getFullYear()}-${currentDate.getMonth() + 1}-${currentDate.getDate()}`;\n\n    const order = {\n      id: flagDb.length + 1,\n      userId: req.body.userId,\n      carId: req.body.carId,\n      reason: req.body.reason,\n      description: req.body.description,\n      createdOn: date,\n    };\n\n    flagDb.push(order);\n    return res.status(201).send({\n      status: 201,\n      message: 'Your offer has been made',\n      order,\n    });\n  }\n}\n\nconst reportController = new Report();\nmodule.exports = reportController;\n"],"file":"flagControlleer.js"}